<?php
namespace riotDecode\inibin\mapper;

class Champion {
	protected $mapping;

	public function __construct() {
		$this->mapping = [
			'2921476548' => ['ID'],
			'767627316'  => ['RANK_ATTACK'],
			'2786390348' => ['RANK_DEFENSE'],
			'1040761625' => ['RANK_MAGIC'],
			'105898023'  => ['RANK_DIFFICULTY'],
			'4146314945' => ['CLASSIFICATION', function($value) { return $value ? explode(',', $value) : []; }],
			'2441097661' => ['TYPE'],
			'82690155'   => ['I18N_DISPLAYNAME'],
			'3747042364' => ['I18N_DESCRIPTION'],
			'4243215483' => ['I18N_LORE'],
			'70667385'   => ['I18N_TIPS'],
			'70667386'   => ['I18N_OPPOSING_TIPS'],
			'3401798261' => ['I18N_PASSIVE_NAME'],
			'743602011'  => ['I18N_PASSIVE_DESCRIPTION'],
			'1880118880' => ['BASE_DAMAGE'],
			'742042233'  => ['BASE_HP'],
			'742370228'  => ['BASE_MANA'],
			'1081768566' => ['BASE_MOVEMENT_SPEED'],
			'2599053023' => ['BASE_ARMOR'],
			'1395891205' => ['BASE_MAGIC_RESIST'],
			'4128291318' => ['BASE_HP_REGEN'],
			'619143803'  => ['BASE_MANA_REGEN'],
			'2191293239' => ['BASE_ATTACK_SPEED', function($value) { return 0.625 * (1.0 - $value); }],
			'1387461685' => ['BASE_RANGE'],
			'1139868982' => ['PER_LEVEL_DAMAGE'],
			'3306821199' => ['PER_LEVEL_HP'],
			'1003217290' => ['PER_LEVEL_MANA'],
			'1608827366' => ['PER_LEVEL_ARMOR'],
			'4100866733' => ['PER_LEVEL_MAGIC_RESIST'],
			'3062102972' => ['PER_LEVEL_HP_REGEN'],
			'1248483905' => ['PER_LEVEL_MANA_REGEN'],
			'770205030'  => ['PER_LEVEL_ATTACK_SPEED', function($value) { return 0.01 * $value; }],
			'3706924793' => ['SPELL_NAME_PASSIVE'],
			'404599689'  => ['SPELL_NAME_1'],
			'404599690'  => ['SPELL_NAME_2'],
			'404599691'  => ['SPELL_NAME_3'],
			'404599692'  => ['SPELL_NAME_4'],
			'3810483779' => ['ICON_PASSIVE'],
			'3086385998' => ['ATTACK_POSSIBLE'],
			'3310611270' => ['BONE_MATERIAL'],
			'1637964898' => ['ATTACK_CRIT_NAME'],
			'3075090915' => ['ATTACK_BASIC_NAME_1'],
			'1578136857' => ['ATTACK_BASIC_NAME_2'],
			'1578136858' => ['ATTACK_BASIC_NAME_3'],
			'1578136859' => ['ATTACK_BASIC_NAME_4'],
			'245402728'  => ['SOUND_ATTACK_1'],
			'245402729'  => ['SOUND_ATTACK_2'],
			'245402730'  => ['SOUND_ATTACK_3'],
			'245402731'  => ['SOUND_ATTACK_4'],
			'789899530'  => ['SOUND_CLICK_1'],
			'789899531'  => ['SOUND_CLICK_2'],
			'789899532'  => ['SOUND_CLICK_3'],
			'789899533'  => ['SOUND_CLICK_4'],
			'882852607'  => ['SOUND_MOVE_1'],
			'882852608'  => ['SOUND_MOVE_2'],
			'882852609'  => ['SOUND_MOVE_3'],
			'882852610'  => ['SOUND_MOVE_4'],
			'4123230931' => ['SOUND_DEATH'],
			'1091449537' => ['SKIN_BASEID'],
			'2142495409' => ['SKIN_DEFAULT_NAME'],
			'769344815'  => ['SKIN_DEFAULT_MODEL'],
			'1895303501' => ['SKIN_DEFAULT_SKELETON'],
			'2640183547' => ['SKIN_DEFAULT_TEXTURE'],
			'4263852911' => ['SKIN_DEFAULT_MANIFEST'],
			'1350629540' => ['SKIN_1_ID'],
			'1742464788' => ['SKIN_1_NAME'],
			'306040338'  => ['SKIN_1_MODEL'],
			'599757744'  => ['SKIN_1_SKELETON'],
			'664710616'  => ['SKIN_1_TEXTURE'],
			'3800548434' => ['SKIN_1_MANIFEST'],
			'3726994531' => ['SKIN_2_ID'],
			'1652845395' => ['SKIN_2_NAME'],
			'525951185'  => ['SKIN_2_MODEL'],
			'3575010799' => ['SKIN_2_SKELETON'],
			'4206390233' => ['SKIN_2_TEXTURE'],
			'4020459281' => ['SKIN_2_MANIFEST'],
			'1808392226' => ['SKIN_3_ID'],
			'1563226002' => ['SKIN_3_NAME'],
			'745862032'  => ['SKIN_3_MODEL'],
			'2255296558' => ['SKIN_3_SKELETON'],
			'3453102554' => ['SKIN_3_TEXTURE'],
			'4240370128' => ['SKIN_3_MANIFEST'],
			'4184757217' => ['SKIN_4_ID'],
			'1473606609' => ['SKIN_4_NAME'],
			'965772879'  => ['SKIN_4_MODEL'],
			'935582317'  => ['SKIN_4_SKELETON'],
			'2699814875' => ['SKIN_4_TEXTURE'],
			'165313679'  => ['SKIN_4_MANIFEST'],
			'2266154912' => ['SKIN_5_ID'],
			'1383987216' => ['SKIN_5_NAME'],
			'1185683726' => ['SKIN_5_MODEL'],
			'3910835372' => ['SKIN_5_SKELETON'],
			'1946527196' => ['SKIN_5_TEXTURE'],
			'385224526'  => ['SKIN_5_MANIFEST'],
			'347552607'  => ['SKIN_6_ID'],
			'1294367823' => ['SKIN_6_NAME'],
			'1405594573' => ['SKIN_6_MODEL'],
			'2591121131' => ['SKIN_6_SKELETON'],
			'1193239517' => ['SKIN_6_TEXTURE'],
			'605135373'  => ['SKIN_6_MANIFEST'],
			'2723917598' => ['SKIN_7_ID'],
			'1204748430' => ['SKIN_7_NAME'],
			'1625505420' => ['SKIN_7_MODEL'],
			'1271406890' => ['SKIN_7_SKELETON'],
			'439951838'  => ['SKIN_7_TEXTURE'],
			'825046220'  => ['SKIN_7_MANIFEST'],
			'805315293'  => ['SKIN_8_ID'],
			'1115129037' => ['SKIN_8_NAME'],
			'1845416267' => ['SKIN_8_MODEL'],
			'4246659945' => ['SKIN_8_SKELETON'],
			'3981631455' => ['SKIN_8_TEXTURE'],
			'1044957067' => ['SKIN_8_MANIFEST'],
			'73050088'   => ['RECOMMENDED_ITEM_1'],
			'73050089'   => ['RECOMMENDED_ITEM_2'],
			'73050090'   => ['RECOMMENDED_ITEM_3'],
			'73050091'   => ['RECOMMENDED_ITEM_4'],
			'73050092'   => ['RECOMMENDED_ITEM_5'],
			'73050093'   => ['RECOMMENDED_ITEM_6']
		];
	}

	public function matchesInibinFile($inibinFile) {
		$values = $inibinFile->getValues(false);

		return key_exists('404599689', $values)  && $values['404599689']  != '' && $values['404599689']  != 'BaseSpell' && key_exists('404599690', $values)  && $values['404599690']  != '' && $values['404599690']  != 'BaseSpell' && key_exists('404599691', $values)  && $values['404599691']  != '' && $values['404599691']  != 'BaseSpell' && key_exists('404599692', $values)  && $values['404599692']  != '' && $values['404599692']  != 'BaseSpell' && key_exists('3086385998', $values) && strtolower($values['3086385998']) == "true";
	}

	public function mapInibinKey($key) {
		return key_exists($key, $this->mapping) ? $this->mapping[$key] : null;
	}
}
?>